## Kubernetes
* `https://segmentfault.com/a/1190000039844000`

### k8s 简介
Kubernetes是Google 2014年创建管理的，是Google 10多年大规模容器管理技术Borg的开源版本。它是容器集群管理系统，是一个开源的平台，可以实现容器集群的自动化部署、自动扩缩容、维护等功能。

通过Kubernetes你可以
* 快速部署应用
* 快速扩展应用
* 无缝对接新的应用功能
* 节省资源，优化硬件资源的使用

Kubernetes 特点:
* 可移植: 支持公有云，私有云，混合云，多重云（multi-cloud）
* 可扩展: 模块化, 插件化, 可挂载, 可组合
* 自动化: 自动部署，自动重启，自动复制，自动伸缩/扩展

### k8s 概念
* `服务发现和负载均衡`
    + Kubernetes 可以使用 DNS 名称或自己的 IP 地址公开容器，如果到容器的流量很大，Kubernetes 可以负载均衡并分配网络流量，从而使部署稳定。
* `存储编排`
    + Kubernetes 允许您自动挂载您选择的存储系统，例如本地存储、公共云提供商等。
* `自动部署和回滚`
    + 您可以使用 Kubernetes 描述已部署容器的所需状态，它可以以受控的速率将实际状态更改为所需状态。例如，您可以自动化 Kubernetes 来为您的部署创建新容器，删除现有容器并将它们的所有资源用于新容器。
* `自动二进制打包`
    + Kubernetes 允许您指定每个容器所需 CPU 和内存（RAM）。当容器指定了资源请求时，Kubernetes 可以做出更好的决策来管理容器的资源。
* `自我修复`
    + Kubernetes 重新启动失败的容器、替换容器、杀死不响应用户定义的运行状况检查的容器，并且在准备好服务之前不将其通告给客户端。
* `密钥与配置管理`
    + Kubernetes 允许您存储和管理敏感信息，例如密码、OAuth 令牌和 ssh 密钥。您可以在不重建容器镜像的情况下部署和更新密钥和应用程序配置，也无需在堆栈配置中暴露密钥。

Kubernetes 的出现不仅主宰了容器编排的市场，更改变了过去的运维方式，不仅将开发与运维之间边界变得更加模糊，而且让 DevOps 这一角色变得更加清晰，每一个软件工程师都可以通过 Kubernetes 来定义服务之间的拓扑关系、线上的节点个数、资源使用量并且能够快速实现水平扩容、蓝绿部署等在过去复杂的运维操作。

### 目前simulation用到的概念
* `服务发现和负载均衡` 
    + deployment service
* `存储编排` 
    + 这部分主要涉及日志持久化的内容
* `自动部署和回滚` 
    + 这部分涉及devops
* `自我修复`   
    + 维持一定基础的pod数量
* `密钥与配置管理`
    + 中间件的密码管理

### 后续可以测试的内容
* `存活检测`
    + 探针的内容
* `动态扩容`
    + 根据你们实验量来动态扩缩容器
* `中间件`
    + 中间件功能的完善

### k8s 常用命令

### 演示一
* 使用k8s的命令完成给刚才docker中的案例二  挂载pvc   + 持久化
    + 创建 pvc 持久化内容
    + 创建 deployment 资源 提供服务
    + 创建 service 资源 提供服务(NodePort)

### 演示二
* 使用k8s的命令启动 simulation 的镜像 日志持久化 提供命令查看日志

### 演示三
* 演示使用helm chart安装mariadb数据库组件，并验证mariadb的功能